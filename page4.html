<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô</title>
  <style>
    :root {
      --primary-gradient: linear-gradient(135deg, #ff9a9e, #fad0c4);
      --button-gradient: linear-gradient(135deg, #6a11cb, #2575fc);
      --disabled-gradient: linear-gradient(135deg, #ccc, #999);
      --accent-color: #6a11cb;
    }
    body {
      font-family: 'Kanit', 'Arial', sans-serif;
      background: var(--primary-gradient);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .container {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      text-align: center;
      max-width: 600px;
      width: 100%;
      position: relative;
    }
    h1, h2, h3 {
      color: #333;
      margin-bottom: 20px;
    }
    h1 {
      font-size: 28px;
      font-weight: bold;
      background: var(--primary-gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .buttons-container {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .buttons-container label {
      font-size: 16px;
      color: #333;
    }
    input[type="number"],
    select {
      padding: 5px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
      text-align: center;
    }
    input[type="checkbox"] {
      margin-right: 5px;
    }
    button {
      background: var(--button-gradient);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      font-family: 'Kanit', sans-serif;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    button:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    button:disabled {
      background: var(--disabled-gradient);
      cursor: not-allowed;
    }
    .result {
      font-size: 20px;
      font-weight: bold;
      color: #333;
      margin: 20px 0;
      padding: 20px;
      border: 2px dashed var(--accent-color);
      border-radius: 10px;
      background: rgba(106,17,203,0.1);
      animation: pulse 2s infinite;
      word-break: break-word;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.02); }
      100% { transform: scale(1); }
    }
    .loading {
      font-size: 20px;
      color: #555;
      margin: 15px 0;
    }
    #timerDisplay {
      font-size: 25px;
      margin-top: 10px;
      font-weight: bold;
    }
    /* ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢) */
    #testContainer {
      display: none;
      margin-top: 20px;
      border: 2px solid var(--accent-color);
      padding: 15px;
      border-radius: 10px;
      background: rgba(106,17,203,0.05);
    }
    #testOptions button {
      margin: 5px;
      padding: 8px 16px;
      font-size: 16px;
    }
    #startTestBtn {
      margin-top: 10px;
    }
    /* ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÑ‡∏´‡∏ô‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î) */
    #evaluateBtn {
      display: none;
      margin-top: 10px;
    }
    #evaluationContainer {
      display: none;
      margin-top: 20px;
      border: 2px solid var(--accent-color);
      padding: 15px;
      border-radius: 10px;
      background: rgba(106,17,203,0.05);
      text-align: left;
    }
    #evaluationList div {
      margin-bottom: 10px;
    }
    #evaluationList span {
      font-weight: bold;
    }
    #evaluationList button {
      margin-left: 10px;
      padding: 5px 10px;
      font-size: 14px;
    }
    /* ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ */
    .history, .stats {
      margin-top: 20px;
      text-align: left;
      background: rgba(255,255,255,0.8);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      max-height: 250px;
      overflow-y: auto;
    }
    .history ul, .stats ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    .history li, .stats li {
      background: rgba(106,17,203,0.1);
      padding: 12px;
      margin-bottom: 8px;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .history li .timestamp, .stats li .timestamp {
      font-size: 0.8em;
      color: #666;
    }
    /* Modal styles */
    #instructionModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    /* Popup Notification (Toast) Styles with Bounce Effect */
    #toastContainer {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2000;
    }
    .toast {
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      margin-top: 10px;
      animation: popupBounce 0.5s forwards, fadeOut 0.5s 2.5s forwards;
    }
    @keyframes popupBounce {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); opacity: 1; }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes fadeOut {
      0% { opacity: 1; }
      100% { opacity: 0; }
    }
    /* Confetti Styles */
    .confetti {
      width: 10px;
      height: 10px;
      background-color: #f0f;
      position: absolute;
      animation: confetti 3s ease-out forwards;
    }
    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    .next-container {
  display: flex;
  justify-content: center; /* ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
  align-items: center;
  margin-top: 20px;
}

.next-btn {
  background-color: #ff5722; /* ‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏™‡∏î */
  color: white;
  padding: 12px 24px;
  text-decoration: none;
  font-size: 18px;
  border-radius: 8px;
  transition: all 0.3s ease;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
}

.next-btn:hover {
  background-color: #e64a19; /* ‡∏™‡∏µ‡∏™‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover */
  transform: translateY(-2px);
}
   
    
  </style>
</head>
<body>
  <div class="container">
    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô</h1>
    
    <div class="buttons-container">
      <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏° -->
      <label for="wordCountInput">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏° (2-10):</label>
      <input type="number" id="wordCountInput" min="2" max="10" value="5" />
      <!-- ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô -->
      <label for="timerSelect">‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô:</label>
      <select id="timerSelect">
        <option value="none">‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</option>
        <option value="1">1 ‡∏ô‡∏≤‡∏ó‡∏µ</option>
        <option value="3">3 ‡∏ô‡∏≤‡∏ó‡∏µ</option>
        <option value="5">5 ‡∏ô‡∏≤‡∏ó‡∏µ</option>
      </select>
      <!-- ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å -->
      <label for="difficultyMode">
        <input type="checkbox" id="difficultyMode" /> ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å
      </label>
      <button id="drawButton">üé≤ ‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</button>
      <button id="resetButton">üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
      <button id="exportButton">üìä ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      <button id="instructionButton">‚ÑπÔ∏è ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</button>
    </div>
    
    <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ -->
    <div id="resultDisplay" class="result" style="display: none;"></div>
    
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡πÑ‡∏´‡∏ô‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î) -->
    <button id="evaluateBtn" style="display: none;">‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô</button>
    
    <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏° / ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠ -->
    <div id="loading" class="loading"></div>
    <div id="timerDisplay"></div>
    
    <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢) -->
    <div id="testContainer">
      <h3>‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô</h3>
      <div id="testQuestion"></div>
      <div id="testOptions"></div>
      <button id="startTestBtn" style="display:none;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
    </div>
    
    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏≠‡πà‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î) -->
    <div id="evaluationContainer">
      <h3>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô</h3>
      <div id="evaluationList"></div>
      <button id="submitEvaluationBtn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</button>
    </div>
    
    <!-- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏° -->
    <div class="history">
      <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°</h3>
      <ul id="historyList"></ul>
    </div>
    
    <!-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ -->
    <div class="stats">
      <h3>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h3>
      <ul id="statsList"></ul>
    </div>
  </div>
  
  <!-- Modal ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ -->
  <div id="instructionModal">
    <div style="background: white; padding: 20px; border-radius: 10px; max-width: 400px; width: 90%;">
      <h2>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
      <p>
        1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏° (2-10) ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤)<br>
        2. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ<br>
        3. ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÇ‡∏î‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡πÑ‡∏´‡∏ô‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î<br>
        4. ‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏°‡∏µ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
      </p>
      <button id="closeModal" style="background: var(--button-gradient); color: white; padding: 10px 20px; border: none; border-radius: 5px; margin-top: 10px;">
        ‡∏õ‡∏¥‡∏î
      </button>
    </div>
  </div>
  
  <!-- Popup Notification Container -->
  <div id="toastContainer"></div>
  <div class="next-container">
  <a href="page5.html" class="next-btn">‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</a>
</div>

  <div class="next-container">
  <a href="index.html" class="next-btn">Home</a>
</div>
  
  
  <script>
    class ReadingSystem {
      constructor() {
        // ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå (‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
        this.wordList = [
          "‰Ω†Â•Ω", "Ë∞¢Ë∞¢", "ÂÜçËßÅ", "ËØ∑", "ÂØπ‰∏çËµ∑", "Êàë", "‰Ω†", "‰ªñ", "Â•π", "Êàë‰ª¨",
          "‰ªñ‰ª¨", "‰∏≠ÂõΩ", "ÁæéÂõΩ", "Â≠¶‰π†", "Â∑•‰Ωú", "ÂÆ∂Â∫≠", "ÊúãÂèã", "Â≠¶Ê†°", "ËÄÅÂ∏à", "Â≠¶Áîü",
          "Êó©‰∏ä", "Êôö‰∏ä", "Â§©Ê∞î", "Áæé‰∏Ω", "Âø´‰πê"
        ];
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏õ‡∏£‡∏±‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ)
        this.wordMeanings = {
          "‰Ω†Â•Ω": "Hello",
          "Ë∞¢Ë∞¢": "Thank you",
          "ÂÜçËßÅ": "Goodbye",
          "ËØ∑": "Please",
          "ÂØπ‰∏çËµ∑": "Sorry",
          "Êàë": "I / Me",
          "‰Ω†": "You",
          "‰ªñ": "He",
          "Â•π": "She",
          "Êàë‰ª¨": "We"
          // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        };
        // ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏°
        this.totalRounds = 0;
        this.totalTestQuestions = 0;
        this.totalCorrectAnswers = 0;
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô
        this.totalEvaluatedRounds = 0;
        this.totalReadingCorrect = 0;
        this.totalReadingIncorrect = 0;
        this.history = [];
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
        this.currentSelectedWords = [];
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤ true/false ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö index)
        this.currentEvaluation = {};
        
        this.initializeElements();
        this.initializeEventListeners();
        this.loadFromLocalStorage();
        this.updateUI();
      }
      
      initializeElements() {
        this.drawButton = document.getElementById("drawButton");
        this.resetButton = document.getElementById("resetButton");
        this.exportButton = document.getElementById("exportButton");
        this.instructionButton = document.getElementById("instructionButton");
        this.resultDisplay = document.getElementById("resultDisplay");
        this.loading = document.getElementById("loading");
        this.timerDisplay = document.getElementById("timerDisplay");
        this.historyList = document.getElementById("historyList");
        this.statsList = document.getElementById("statsList");
        this.instructionModal = document.getElementById("instructionModal");
        this.closeModal = document.getElementById("closeModal");
        this.toastContainer = document.getElementById("toastContainer");
        this.wordCountInput = document.getElementById("wordCountInput");
        this.timerSelect = document.getElementById("timerSelect");
        this.difficultyModeChk = document.getElementById("difficultyMode");
        this.testContainer = document.getElementById("testContainer");
        this.testQuestion = document.getElementById("testQuestion");
        this.testOptions = document.getElementById("testOptions");
        this.startTestBtn = document.getElementById("startTestBtn");
        this.evaluateBtn = document.getElementById("evaluateBtn");
        this.evaluationContainer = document.getElementById("evaluationContainer");
        this.evaluationList = document.getElementById("evaluationList");
        this.submitEvaluationBtn = document.getElementById("submitEvaluationBtn");
      }
      
      initializeEventListeners() {
        this.drawButton.addEventListener("click", () => this.draw());
        this.resetButton.addEventListener("click", () => this.reset());
        this.exportButton.addEventListener("click", () => this.exportData());
        this.instructionButton.addEventListener("click", () => this.showInstructions());
        this.closeModal.addEventListener("click", () => this.hideInstructions());
        this.evaluateBtn.addEventListener("click", () => this.showEvaluationUI());
        this.submitEvaluationBtn.addEventListener("click", () => this.submitEvaluation());
      }
      
      loadFromLocalStorage() {
        const savedHistory = localStorage.getItem("readingHistory");
        const savedStats = localStorage.getItem("readingStats");
        if (savedHistory) {
          this.history = JSON.parse(savedHistory);
        }
        if (savedStats) {
          const stats = JSON.parse(savedStats);
          this.totalRounds = stats.totalRounds;
          this.totalTestQuestions = stats.totalTestQuestions;
          this.totalCorrectAnswers = stats.totalCorrectAnswers;
          this.totalEvaluatedRounds = stats.totalEvaluatedRounds || 0;
          this.totalReadingCorrect = stats.totalReadingCorrect || 0;
          this.totalReadingIncorrect = stats.totalReadingIncorrect || 0;
        }
      }
      
      saveToLocalStorage() {
        localStorage.setItem("readingHistory", JSON.stringify(this.history));
        localStorage.setItem("readingStats", JSON.stringify({
          totalRounds: this.totalRounds,
          totalTestQuestions: this.totalTestQuestions,
          totalCorrectAnswers: this.totalCorrectAnswers,
          totalEvaluatedRounds: this.totalEvaluatedRounds,
          totalReadingCorrect: this.totalReadingCorrect,
          totalReadingIncorrect: this.totalReadingIncorrect
        }));
      }
      
      updateUI() {
        this.updateHistory();
        this.updateStats();
      }
      
      updateHistory() {
        this.historyList.innerHTML = this.history
          .map((item, index) => `
            <li>
              <span>‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà ${index + 1}: ${item.words.join(", ")}</span>
              <span class="timestamp">${new Date(item.timestamp).toLocaleString()}</span>
            </li>
          `)
          .join("");
      }
      
      updateStats() {
        const testAccuracy = this.totalTestQuestions > 0 ? Math.round((this.totalCorrectAnswers / this.totalTestQuestions) * 100) : 0;
        const readingAccuracy = (this.totalReadingCorrect + this.totalReadingIncorrect) > 0 ?
          Math.round((this.totalReadingCorrect / (this.totalReadingCorrect + this.totalReadingIncorrect)) * 100) : 0;
        this.statsList.innerHTML = `
          <li>‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô: ${this.totalRounds}</li>
          <li>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö: ${this.totalTestQuestions} ‡∏Ñ‡∏≥, ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å: ${this.totalCorrectAnswers} ‡∏Ñ‡∏≥, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ${testAccuracy}%</li>
          <li>‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô: ${this.totalEvaluatedRounds} ‡∏£‡∏≠‡∏ö, ‡∏≠‡πà‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å: ${this.totalReadingCorrect} ‡∏Ñ‡∏≥, ‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏¥‡∏î: ${this.totalReadingIncorrect} ‡∏Ñ‡∏≥, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ${readingAccuracy}%</li>
        `;
      }
      
      // ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö Popup (Toast)
      showToast(message) {
        const toast = document.createElement("div");
        toast.className = "toast";
        toast.textContent = message;
        this.toastContainer.appendChild(toast);
        setTimeout(() => { toast.remove(); }, 3000);
      }
      
      // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå Confetti
      createConfetti() {
        const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff'];
        for (let i = 0; i < 50; i++) {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * window.innerWidth + 'px';
          confetti.style.top = "-10px";
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          document.body.appendChild(confetti);
          setTimeout(() => { confetti.remove(); }, 3000);
        }
      }
      
      async draw() {
        // ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ñ‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏¢‡∏π‡πà
        this.testContainer.style.display = "none";
        this.evaluateBtn.style.display = "none";
        this.evaluationContainer.style.display = "none";
        this.testQuestion.innerHTML = "";
        this.testOptions.innerHTML = "";
        
        if (this.wordList.length === 0) {
          this.resultDisplay.textContent = "‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡πâ ‚ö†Ô∏è";
          this.resultDisplay.style.display = "block";
          return;
        }
        
        let count = parseInt(this.wordCountInput.value, 10);
        if (isNaN(count) || count < 2 || count > 10) {
          this.showToast("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 2 ‡∏ñ‡∏∂‡∏á 10");
          return;
        }
        
        this.loading.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå...";
        this.resultDisplay.style.display = "none";
        this.timerDisplay.textContent = "";
        
        // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
        for (let i = 0; i < 5; i++) {
          await new Promise(resolve => setTimeout(resolve, 200));
          this.loading.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå" + ".".repeat(i + 1);
        }
        
        const shuffled = [...this.wordList].sort(() => 0.5 - Math.random());
        const selected = shuffled.slice(0, count);
        this.currentSelectedWords = selected;
        this.resultDisplay.innerHTML = `<strong>‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ (${count} ‡∏Ñ‡∏≥):</strong><br>${selected.join(", ")}`;
        this.resultDisplay.style.display = "block";
        this.loading.textContent = "";
        this.totalRounds++;
        this.history.push({
          words: selected,
          timestamp: new Date().toISOString()
        });
        this.saveToLocalStorage();
        this.updateUI();
        
        this.createConfetti();
        this.showToast("‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!");
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤
        const timerVal = this.timerSelect.value;
        if (timerVal !== "none") {
          let minutes = parseInt(timerVal, 10);
          if (this.difficultyModeChk.checked) { minutes = minutes / 2; }
          let totalSeconds = minutes * 60;
          this.startCountdown(totalSeconds);
        } else {
          // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô
          this.startTestBtn.style.display = "inline-block";
          this.evaluateBtn.style.display = "inline-block";
        }
      }
      
      startCountdown(seconds) {
        this.timerDisplay.textContent = `‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: ${seconds} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
        const interval = setInterval(() => {
          seconds--;
          this.timerDisplay.textContent = `‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: ${seconds} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
          if (seconds <= 0) {
            clearInterval(interval);
            this.timerDisplay.textContent = "‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß!";
            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô
            this.evaluateBtn.style.display = "inline-block";
          }
        }, 1000);
      }
      
      // ===================== ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢) =====================
      // (‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
      startTestSession() {
        // ‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
        // (‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á)
      }
      
      // ===================== ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô (‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î) =====================
      showEvaluationUI() {
        // ‡πÅ‡∏™‡∏î‡∏á UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô ‡πÇ‡∏î‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡∏∏‡πà‡∏° "‡∏ñ‡∏π‡∏Å" ‡πÅ‡∏•‡∏∞ "‡∏ú‡∏¥‡∏î"
        if (this.currentSelectedWords.length === 0) {
          this.showToast("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Å‡πà‡∏≠‡∏ô");
          return;
        }
        this.currentEvaluation = {}; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
        this.evaluationList.innerHTML = "";
        this.currentSelectedWords.forEach((word, index) => {
          const div = document.createElement("div");
          div.innerHTML = `<span>${word}</span>`;
          const correctBtn = document.createElement("button");
          correctBtn.textContent = "‡∏ñ‡∏π‡∏Å";
          correctBtn.addEventListener("click", () => {
            this.currentEvaluation[index] = true;
            correctBtn.style.backgroundColor = "#28a745";
            incorrectBtn.style.backgroundColor = "";
          });
          const incorrectBtn = document.createElement("button");
          incorrectBtn.textContent = "‡∏ú‡∏¥‡∏î";
          incorrectBtn.addEventListener("click", () => {
            this.currentEvaluation[index] = false;
            incorrectBtn.style.backgroundColor = "#dc3545";
            correctBtn.style.backgroundColor = "";
          });
          div.appendChild(correctBtn);
          div.appendChild(incorrectBtn);
          this.evaluationList.appendChild(div);
        });
        this.evaluationContainer.style.display = "block";
      }
      
      submitEvaluation() {
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
        if (Object.keys(this.currentEvaluation).length !== this.currentSelectedWords.length) {
          this.showToast("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å");
          return;
        }
        let correctCount = 0;
        let incorrectCount = 0;
        Object.values(this.currentEvaluation).forEach(val => {
          if (val) { correctCount++; } else { incorrectCount++; }
        });
        this.totalEvaluatedRounds++;
        this.totalReadingCorrect += correctCount;
        this.totalReadingIncorrect += incorrectCount;
        this.saveToLocalStorage();
        this.updateUI();
        this.showToast(`‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô: ‡∏ñ‡∏π‡∏Å ${correctCount} ‡∏Ñ‡∏≥, ‡∏ú‡∏¥‡∏î ${incorrectCount} ‡∏Ñ‡∏≥`);
        this.evaluationContainer.style.display = "none";
      }
      
      reset() {
        if (confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î")) {
          this.history = [];
          this.totalRounds = 0;
          this.totalTestQuestions = 0;
          this.totalCorrectAnswers = 0;
          this.totalEvaluatedRounds = 0;
          this.totalReadingCorrect = 0;
          this.totalReadingIncorrect = 0;
          this.saveToLocalStorage();
          this.updateUI();
          this.showToast("‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß!");
          this.testContainer.style.display = "none";
          this.timerDisplay.textContent = "";
          this.resultDisplay.style.display = "none";
          this.evaluateBtn.style.display = "none";
          this.evaluationContainer.style.display = "none";
        }
      }
      
      exportData() {
        const data = {
          history: this.history,
          wordList: this.wordList,
          stats: {
            totalRounds: this.totalRounds,
            totalTestQuestions: this.totalTestQuestions,
            totalCorrectAnswers: this.totalCorrectAnswers,
            totalEvaluatedRounds: this.totalEvaluatedRounds,
            totalReadingCorrect: this.totalReadingCorrect,
            totalReadingIncorrect: this.totalReadingIncorrect
          }
        };
        const dataStr = JSON.stringify(data, null, 2);
        const blob = new Blob([dataStr], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "reading_data.json";
        a.click();
        URL.revokeObjectURL(url);
        this.showToast("‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß!");
      }
      
      showInstructions() {
        this.instructionModal.style.display = "flex";
      }
      
      hideInstructions() {
        this.instructionModal.style.display = "none";
      }
    }
    
    document.addEventListener("DOMContentLoaded", () => {
      new ReadingSystem();
    });
  </script>
</body>
</html>
